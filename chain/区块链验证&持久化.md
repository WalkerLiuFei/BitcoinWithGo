## 共识
1. 了解bitcoin的都知道，参与bitcoin网络要经过POW共识，也就是工作量证明，这
    个工作量证明其实就是不断的试错。
2. 上面的那个试错过程其实就是不断的产生一个block header,使其Double Hash 值
    小于nBits
3. 上面这一步验证已经实现了，在utils包下面的 ValidateHeaderHash 里面
4. nBits是整个区块链网络共识产生的，其值是全网共识的。这个值根据全网算力，
    每两周调整一次，调整的时候是根据看上2016个
   区块产生时间和两周的比值。这个比值就是调整的数
5. 所以根据以上四步，验证一个Block的时候就是，先看其Block的header的nBit这
    个属性是不是满足**等于上一个有效区块的nBits，或者上一个有效区块(难度
     调整之前)的nBits比值之后的值**
   在这个nBits属性满足之后。调用第二步，验证区块头。它是有效的，那么就OK。
6. 注意第四步计算时，实际上Bitcoin只用了2015个块时间戳，这是Bitcoin的一个b
    ug，因为涉及到共识，这是没办法修复的
7. 所谓的 51% 攻击。如果你想篡改一个Block中的交易信息，必须要持有51%的计算
    能力
8. 如果两个节点同时产生了一个高度一致的Block，并且都广播了出去,这个时候其他
    节点首先看到了那个Block就接受那个Block并添加到本地有效链上面，并在这个
    链上面继续挖矿。这就出现了分叉问题。大家都分别在不同的链上面进行挖矿，
    显然的，肯定有一个链最终会胜出，这样这个较长的链广播到其他节点。其他所有
    节点永远会认为最长链是有效链的共识，而抛弃那个分叉的较短的链。这就是**谁
    的运算力大谁说了算的原则！** ： 参考 [孤块信息](https://blockchain.info/orphaned-blocks)
9. 上面的分叉还会导致另外一个问题，即如果一个导致分叉的区块，在后来被确认为孤块，
    这个孤块后面的这个无效的链所有的区块产生的Coinbase交易和收集交易产生的交易费用
    自然是无效的。那么怎么矿工没有花费这个交易费用呐？解决办法是：区块产生的所有交易费用和
    CoinBase交易的奖励都必须要在100个区块后才会生效
10.


